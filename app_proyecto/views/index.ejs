<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APPTarea</title>
    <!-- //para utilizar bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
   
    <!-- //para utilizar boxicons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body style="display: flex; justify-content: center;  height: 100vh; margin: 0; padding: 0; box-sizing: border-box; font-family: montserrat; background: linear-gradient(to top , rgba(48, 124, 53, 0.779), rgba(221, 235, 142, 0.639)); ">
    
    <!-- //el contenedor con la tabla de tareas -->
    <div class="container "> 
          
        
        <!-- //el boton para añadir una nueva fila -->
        <a href="/crear" class="btn btn-outline-success mt-5 mb-3" ><i class='bx bx-plus-circle bx-md bx-tada-hover' ></i></a>
        
        <table  class="shadow-sm p-3 mb-5 bg-body-tertiary rounded" style="width: 100%;">
            
            <thead >
                <tr class="bg-success text-white">
                    <th scope="col">Usuario</th>
                    <th scope="col">ID</th>
                    <th scope="col">Fecha</th>
                    <th scope="col">Tarea</th>
                    <th scope="col">Acciones</th>
                </tr>   
            </thead>
            
            <tbody style="margin-top: 20px; border-radius: 15px; box-shadow: 0 5px 10px rgba(245, 245, 244, 0.858); background-color: rgb(231, 231, 227); ">
                <% results.forEach((tareas)=> { %>
                    <tr>
                        <td><%= tareas.user_id %></td>
                        <td><%= tareas.id %>  </td>
                        <td><%= tareas.created_at %> </td>
                        <td><%= tareas.task %> </td>
                        
                        <!-- los botones de mi tabla editar/borrar -->
                        <td>
                            <a href="/editar/<%= tareas.id %>" class="btn btn-outline-secondary" >Editar</a>
                            <a href="/delete/<%= tareas.id %>" class="btn btn-outline-danger">Borrar</a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>

    </div>
    
    <script>
        const date = tareas.created_at;

        const newDate = new Date(date);

        //obtener año mes y dia 
        const year = newDate.getFullYear;
        const month = `O${newDate.getMonth() + 1}`.slice(-2);
        const day = `O${newDate.getDate()}`.slice(-2);

        const fechaFormateada = '${year}-${month}-${day}';

        
        


    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  



</body>
</html>